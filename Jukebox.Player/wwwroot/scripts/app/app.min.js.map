{"version":3,"sources":["rootController.ts","configurations/applicationConfiguration.ts","configurations/interceptorsConfiguration.ts","configurations/routeConfiguration.ts","configurations/storageConfiguration.ts","constants/applicationConstants.ts","constants/settingsConstants.ts","controllers/indexController.ts","controllers/homeController.ts","controllers/account/loginController.ts","filters/stringFormat.ts","models/account.ts","models/misc.ts","services/authInterceptorService.ts","services/authService.ts","services/hubService.ts","_all.ts","app.ts","models/error.ts"],"names":[],"mappings":"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","file":"app.min.js","sourcesContent":["/// <reference path=\"_all.ts\" />\r\n\r\nmodule Jukebox.Player {\r\n    'use strict';\r\n\r\n    export interface IRootScope extends angular.IRootScopeService {\r\n        controller: IRootController;\r\n    }\r\n\r\n    export interface IRootController {\r\n        showLogout: boolean;\r\n\r\n        logOut();\r\n        errorMessage(message: string, time: number);\r\n        errorMessage(message: string, time: number, errorList: string[]);\r\n        hasRemoteTokenRequestFailed(rejection: angular.IHttpPromiseCallbackArg<{}>): boolean;\r\n        isPasswordSending(rejection: angular.IHttpPromiseCallbackArg<{}>): boolean;\r\n    }\r\n\r\n    export class RootController implements IRootController {\r\n        private redirectedToLogin: boolean = false;\r\n\r\n        public showLogout: boolean;\r\n\r\n        constructor(private $rootScope: IRootScope,\r\n            private $state: angular.ui.IStateService,\r\n            private $uibModal: angular.ui.bootstrap.IModalService,\r\n            private authService: Services.IAuthService,\r\n            private jukeboxServiceUrls: Constants.JukeboxServiceUrls,\r\n            private jukeboxWebPaths: Constants.JukeboxWebPaths,\r\n            private jukeboxViewPaths: Constants.JukeboxViewPaths) {\r\n            $rootScope.controller = this;\r\n\r\n            this.cofigureAuthService();\r\n            this.configureUnauthenticatedRedirect($rootScope);\r\n        }\r\n\r\n        public logOut() {\r\n            this.authService.logOut();\r\n            // this.redirectToLogin();\r\n        }\r\n\r\n        public errorMessage(message: string, time: number, errorList: string[] = null) {\r\n            var modalInstance = this.$uibModal.open({\r\n                animation: true,\r\n                templateUrl: this.jukeboxViewPaths.error,\r\n                controller: 'errorController',\r\n                size: 'md',\r\n                resolve: {\r\n                    message: function () {\r\n                        return message;\r\n                    },\r\n                    time: function () {\r\n                        return time;\r\n                    },\r\n                    errorList: function () {\r\n                        return errorList ? errorList : [];\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        \r\n        public hasRemoteTokenRequestFailed(rejection: angular.IHttpPromiseCallbackArg<{}>): boolean {\r\n            return rejection.status === 400\r\n                && rejection.config.url == this.jukeboxServiceUrls.authenticationServiceUrl\r\n                && this.$state.current.name != this.jukeboxWebPaths.accountLogin.state;\r\n        };\r\n\r\n        public isPasswordSending(rejection: angular.IHttpPromiseCallbackArg<{}>): boolean {\r\n            return rejection.config.url == this.jukeboxServiceUrls.authenticationServiceUrl\r\n                && this.$state.current.name == this.jukeboxWebPaths.accountLogin.state;\r\n        }\r\n\r\n        private redirectToLogin() {\r\n            this.$state.go(this.jukeboxWebPaths.accountLogin.state);\r\n            this.redirectedToLogin = true;\r\n            setTimeout(() => {\r\n                this.redirectedToLogin = false;\r\n            }, 200);\r\n        }\r\n\r\n        private cofigureAuthService() {\r\n            this.authService.fillAuthData();\r\n        }\r\n\r\n        private configureUnauthenticatedRedirect($rootScope: IRootScope) {\r\n            $rootScope.$on('$stateChangeStart', this.onNewUrlState);\r\n        }\r\n\r\n        private onNewUrlState = (e: angular.IAngularEvent, toState: angular.ui.IState, toParams: angular.ui.IStateParams, fromState: angular.ui.IState, fromParams: angular.ui.IStateParams) => {\r\n            if (!this.authService.authentication.isAuth\r\n                && !this.redirectedToLogin\r\n                && toState.name != this.jukeboxWebPaths.accountLogin.state\r\n                && toState.name != this.jukeboxWebPaths.accountRegister.state) {\r\n                e.preventDefault();\r\n                this.redirectToLogin();\r\n            }\r\n            else {\r\n                this.showLogout = true;\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Jukebox.Player.Configurations {\r\n    'use strict';\r\n    \r\n    //TODO: find interface\r\n    export function configureLoadingBar(cfpLoadingBarProvider: any) {\r\n        cfpLoadingBarProvider.includeSpinner = false;\r\n    }\r\n}\r\n\r\n\r\n","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Jukebox.Player.Configurations {\r\n    'use strict';\r\n\r\n    export function confugreInterceptoprs($httpProvider: angular.IHttpProvider) {\r\n        $httpProvider.interceptors.push(Services.AuthInterceptorService.Factory);\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Jukebox.Player.Configurations {\r\n    'use strict';\r\n\r\n\r\n    export function configureRouting($stateProvider: angular.ui.IStateProvider,\r\n        $urlRouterProvider: angular.ui.IUrlRouterProvider,\r\n        $locationProvider: angular.ILocationProvider,\r\n        jukeboxWebPaths: Constants.JukeboxWebPaths,\r\n        jukeboxViewPaths: Constants.JukeboxWebPaths,\r\n        jukeboxServiceUrls: Constants.JukeboxWebPaths) {\r\n\r\n        $stateProvider.state(jukeboxWebPaths.home.state, {\r\n            url: jukeboxWebPaths.home.url,\r\n            controller: \"homeController\",\r\n            templateUrl: jukeboxViewPaths.home\r\n        });\r\n\r\n        $stateProvider.state(jukeboxWebPaths.accountLogin.state, {\r\n            url: jukeboxWebPaths.accountLogin.url,\r\n            controller: \"loginController\",\r\n            templateUrl: jukeboxViewPaths.accountLogin\r\n        });\r\n\r\n        $urlRouterProvider.otherwise(jukeboxWebPaths.home.url);\r\n\r\n        // use the HTML5 History API\r\n        $locationProvider.html5Mode({\r\n            enabled: false,\r\n            requireBase: true\r\n        });\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Jukebox.Player.Configurations {\r\n    'use strict';\r\n    \r\n    export function configureLocalStorage(localStorageServiceProvider: angular.local.storage.ILocalStorageServiceProvider) {\r\n        localStorageServiceProvider\r\n            .setPrefix('jukebox-web')\r\n            .setStorageType('localStorage');\r\n    }\r\n}","module Jukebox.Player.Constants {\r\n    'use strict';\r\n\r\n    export class UrlState {\r\n        url: string;\r\n        state: string;\r\n    }\r\n\r\n    export class JukeboxWebPaths {\r\n        accountLogin: UrlState;\r\n        accountRegister: UrlState;\r\n        home: UrlState;\r\n\r\n        constructor() {\r\n            this.accountLogin = { url: '/login', state: 'login' };\r\n            this.accountRegister = { url: '/register', state: 'register' };\r\n            this.home = { url: '/home', state: 'home' };\r\n        }\r\n    }\r\n\r\n    export class JukeboxViewPaths {\r\n        shared: SharedViewPaths;\r\n        accountLogin: string;\r\n        accountRegister: string;\r\n        home: string;\r\n        error: string;\r\n\r\n        constructor() {\r\n            this.shared = { modal: './views/shared/modalTemplate.html' };\r\n            this.accountLogin = './views/account/login.html';\r\n            this.accountRegister = './views/account/register.html';\r\n            this.home = './views/home.html';\r\n            this.error = './views/error.html';\r\n        }\r\n    }\r\n\r\n    export class SharedViewPaths {\r\n        modal: string\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Jukebox.Player.Constants {\r\n    'use strict'\r\n\r\n    export class JukeboxSettings {\r\n        clientId: string;\r\n\r\n        constructor() {\r\n            this.clientId = '2261c0d1-3e69-4275-ad9a-3ab15bab0e3c';\r\n        }\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Jukebox.Player.Controllers {\r\n    'use strict';\r\n\r\n    export interface IIndexScope extends angular.IScope {\r\n        viewModel: IIndexController;\r\n    }\r\n\r\n    export interface IIndexController {\r\n        authentication: Models.Account.Authentication;\r\n    }\r\n\r\n    export class IndexController implements IIndexController {\r\n        static $inject = ['$scope', '$state', 'authService', 'jukeboxWebPaths'];\r\n\r\n        public authentication: Models.Account.Authentication;\r\n        \r\n        constructor(private $scope: IIndexScope, private $state: angular.ui.IStateService, private authService: Services.IAuthService, private jukeboxWebPaths: Constants.JukeboxWebPaths) {\r\n            $scope.viewModel = this;\r\n\r\n            this.authentication = authService.authentication;\r\n        }\r\n\r\n        private redirectToLogin() {\r\n            this.authService.logOut();\r\n            // this.$state.go(this.jukeboxWebPaths.accountLogin.state);\r\n        }\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Jukebox.Player.Controllers {\r\n    'use strict';\r\n\r\n    export interface IHomeScope extends angular.IScope {\r\n        controller: IHomeController;\r\n    }\r\n\r\n    export interface IHomeController {\r\n        jukeboxWebPaths: Constants.JukeboxWebPaths;\r\n    }\r\n\r\n    export class HomeController implements IHomeController {\r\n        static $inject = ['$rootScope', '$scope', '$http', '$state', 'jukeboxWebPaths', 'jukeboxServiceUrls', 'Hub', '$uibModal', 'hubService', 'authService'];\r\n        \r\n        private usersHub: ngSignalr.Hub;\r\n        private audio: HTMLAudioElement;\r\n\r\n        constructor(private $rootScope: IRootScope, private $scope: IHomeScope,\r\n            private $http: angular.IHttpService, private $state: angular.ui.IStateService,\r\n            public jukeboxWebPaths: Constants.JukeboxWebPaths, private jukeboxServiceUrls: Constants.JukeboxServiceUrls,\r\n            private Hub: ngSignalr.HubFactory, private $uibModal: angular.ui.bootstrap.IModalService,\r\n            private hubService: Services.HubService, private authService: Services.IAuthService) {\r\n            $scope.controller = this;\r\n\r\n            this.createUsersHub();\r\n        }\r\n\r\n        private createUsersHub(): void {\r\n            this.usersHub = this.hubService.startHub(\"UsersListHub\", {\r\n                rootPath: this.jukeboxServiceUrls.authenticationServiceUrl + \"/signalr\",\r\n                logging: false,\r\n                listeners: {\r\n                    'handlePlay': this.handlePlay,\r\n                    'handlePause': this.handlePause\r\n                }\r\n            });\r\n\r\n            this.$scope.$on('$stateChangeStart', () => {\r\n                this.usersHub.disconnect();\r\n            });\r\n        }\r\n\r\n        private handlePlay = (audio_url: string) => {\r\n            this.audio = new Audio(audio_url);\r\n            this.audio.play();\r\n        }\r\n\r\n        private handlePause = (secondPlayer: Models.Account.UserListModel) => {\r\n            this.audio.pause();\r\n        }\r\n    }\r\n}","/// <reference path=\"../../_all.ts\" />\r\n\r\nmodule Jukebox.Player.Controllers.Account {\r\n    'use strict';\r\n    import constants = Jukebox.Player.Constants;\r\n    import models = Jukebox.Player.Models.Account;\r\n\r\n    export interface ILoginScope extends angular.IScope {\r\n        controller: ILoginController;\r\n        loginForm: angular.IFormController;\r\n    }\r\n\r\n    export interface ILoginController {\r\n        errorMessage: string;\r\n        loginData: models.LoginData;\r\n        val: models.LoginValidation;\r\n        loginForm: angular.IFormController;\r\n\r\n        login(): void;\r\n    }\r\n\r\n    export class LoginController {\r\n        static $inject = ['$scope', '$state', 'authService', 'jukeboxWebPaths'];\r\n\r\n        errorMessage: string;\r\n        loginData: models.LoginData;\r\n        val: models.LoginValidation;\r\n        loginForm: angular.IFormController;\r\n\r\n        constructor(private $scope: ILoginScope, private $state: angular.ui.IStateService, private authService: Services.IAuthService, private jukeboxWebPaths: constants.JukeboxWebPaths) {\r\n            $scope.controller = this;\r\n\r\n            this.errorMessage = \"\";\r\n\r\n            this.loginData = {\r\n                userName: \"\",\r\n                password: \"\",\r\n                rememberMe: \"\"\r\n            };\r\n\r\n            this.val = {\r\n                usernameMinLength: 3,\r\n                usernameMaxLength: 100,\r\n                passwordMinLength: 6,\r\n                passwordMaxLength: 100\r\n            };\r\n\r\n            this.login();\r\n        }\r\n\r\n        public login() {\r\n            this.errorMessage = \"\";\r\n\r\n            this.loginData.userName = \"raspberry\";\r\n            this.loginData.password = \"raspberry\";\r\n\r\n            this.authService.login(this.loginData).then(this.onLoginSucccess, this.onLoginFail);\r\n        }\r\n\r\n        private onLoginSucccess = (response: Models.Account.AuthorizedData) => {\r\n            this.$state.go(this.jukeboxWebPaths.home.state);\r\n        }\r\n\r\n        private onLoginFail = (response: angular.IHttpPromiseCallbackArg<Models.Error.AuthError>) => {\r\n            if (response.data) {\r\n                this.errorMessage = response.data.error;\r\n            }\r\n\r\n            this.loginData.password = '';\r\n        }\r\n    }\r\n}","module Jukebox.Player.Filters {\r\n    'use strict';\r\n\r\n    //TODO: refactor\r\n    export function stringFormat() {\r\n        var s = arguments[0];\r\n        for (var i = 0; i < arguments.length - 1; i++) {\r\n            var reg = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\r\n            s = s.replace(reg, arguments[i + 1]);\r\n        }\r\n        return s;\r\n    };\r\n}","module Jukebox.Player.Models.Account {\r\n    'use strict';\r\n\r\n    export class LoginData {\r\n        userName: string;\r\n        password: string;\r\n        rememberMe: string;\r\n    }\r\n\r\n    export class UserCreateModel {\r\n        username: string;\r\n        password: string;\r\n    }\r\n\r\n    export class LoginValidation {\r\n        usernameMinLength: number;\r\n        usernameMaxLength: number;\r\n        passwordMinLength: number;\r\n        passwordMaxLength: number;\r\n    }\r\n\r\n    export class Authentication {\r\n        isAuth: boolean;\r\n        userName: string;\r\n        useRefreshTokens: boolean;\r\n    }\r\n\r\n    export class AuthorizedData {\r\n        access_token: string;\r\n        user_id: string;\r\n        user_name: string;\r\n        locale_id: number;\r\n        locale_urls: string;\r\n    }\r\n\r\n    export class UserListModel {\r\n        Id: string;\r\n        Name: string;\r\n    }\r\n\r\n    export class UserGameModel {\r\n        id: string;\r\n        name: string;\r\n    }\r\n}","module Jukebox.Player.Models.Misc {\r\n    'use strict';\r\n\r\n    export class ErrorModel {\r\n        constructor(public message: string, public errorList: string[]) {\r\n        }\r\n    }\r\n}\r\n\r\n","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Jukebox.Player.Services {\r\n    'use strict';\r\n\r\n    export class AuthInterceptorService implements angular.IHttpInterceptor {\r\n        static $inject = ['$q', '$rootScope', '$injector', 'localStorageService', 'jukeboxWebPaths'];\r\n        \r\n        private static TOKEN_HEADERS: angular.IHttpRequestConfigHeaders = { 'Content-Type': 'application/x-www-form-urlencoded' };\r\n\r\n        public authentication: Models.Account.Authentication;\r\n        public authorizationData: IAuthorizationData;\r\n\r\n        public static Factory($q: angular.IQService, $rootScope: IRootScope, $injector: angular.auto.IInjectorService, localStorageService: angular.local.storage.ILocalStorageService, jukeboxWebPaths: Constants.JukeboxWebPaths): AuthInterceptorService {\r\n            return new AuthInterceptorService($q, $rootScope, $injector, localStorageService, jukeboxWebPaths);\r\n        }\r\n\r\n        constructor(\r\n            private $q: angular.IQService,\r\n            private $rootScope: IRootScope,\r\n            private $injector: angular.auto.IInjectorService,\r\n            private localStorageService: angular.local.storage.ILocalStorageService,\r\n            private jukeboxWebPaths: Constants.JukeboxWebPaths) {\r\n        }\r\n\r\n        public request = (config: angular.IRequestConfig) => {\r\n            config.headers = config.headers || {};\r\n\r\n            var authData = this.getAuthService().authorizationData.getData();\r\n            if (authData) {\r\n                config.headers['Authorization'] = 'Bearer ' + authData.access_token;\r\n            }\r\n\r\n            return config;\r\n        }\r\n\r\n        public responseError = (rejection: angular.IHttpPromiseCallbackArg<Models.Error.AuthError>): angular.IPromise<Models.Account.AuthorizedData> => {\r\n            if (rejection.status === 401 || this.$rootScope.controller.hasRemoteTokenRequestFailed(rejection)) {\r\n                //this.redirectToLogin();\r\n            }\r\n\r\n            return this.$q.reject(rejection);\r\n        }\r\n\r\n        private retryRequest(config: angular.IRequestConfig, deferred: angular.IDeferred<Models.Account.AuthorizedData>) {\r\n            function successCallback(response) {\r\n                deferred.resolve(response);\r\n            }\r\n\r\n            function errorCallback(response) {\r\n                deferred.reject(response);\r\n            }\r\n\r\n            this.get$http()(config).then(successCallback, errorCallback);\r\n        }\r\n\r\n        private get$http(): angular.IHttpService {\r\n            return this.$injector.get<angular.IHttpService>('$http');\r\n        }\r\n\r\n        private getAuthService(): IAuthService {\r\n            return this.$injector.get<IAuthService>('authService');\r\n        }\r\n\r\n        private get$state(): angular.ui.IStateService {\r\n            return this.$injector.get<angular.ui.IStateService>('$state');\r\n        }\r\n\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Jukebox.Player.Services {\r\n    'use strict';\r\n\r\n    export interface IAuthService {\r\n        authentication: Models.Account.Authentication;\r\n        authorizationData: IAuthorizationData;\r\n\r\n        login(loginData: Models.Account.LoginData): angular.IPromise<Models.Account.AuthorizedData>;\r\n        register(user: Models.Account.UserCreateModel): angular.IHttpPromise<any>;\r\n        logOut();\r\n        fillAuthData();\r\n    }\r\n\r\n    export interface IAuthorizationData {\r\n        getData(): Models.Account.AuthorizedData;\r\n        setData(data: Models.Account.AuthorizedData);\r\n        removeData();\r\n    }\r\n\r\n    export class AuthService implements IAuthService {\r\n        static $inject = ['$http', '$q', 'localStorageService', 'jukeboxServiceUrls', 'jukeboxSettings'];\r\n\r\n        private static TOKEN_HEADERS: angular.IHttpRequestConfigHeaders = { 'Content-Type': 'application/x-www-form-urlencoded' };\r\n\r\n        private loginData: Models.Account.LoginData;\r\n\r\n        public authentication: Models.Account.Authentication;\r\n        public authorizationData: IAuthorizationData;\r\n\r\n        constructor(private $http: angular.IHttpService,\r\n            private $q: angular.IQService,\r\n            private localStorageService: angular.local.storage.ILocalStorageService,\r\n            private jukeboxServiceUrls: Constants.JukeboxServiceUrls,\r\n            private jukeboxSettings: Constants.JukeboxSettings) {\r\n            this.authorizationData = new AuthorizationData(localStorageService);\r\n            this.authentication = new Models.Account.Authentication();\r\n        }\r\n\r\n        public login(loginData: Models.Account.LoginData): angular.IPromise<Models.Account.AuthorizedData> {\r\n            this.loginData = loginData;\r\n            var data: string = \"grant_type=password&username=\" + loginData.userName + \"&password=\" + loginData.password + \"&client_id=\" + this.jukeboxSettings.clientId;\r\n            \r\n            return this.$http.post(this.jukeboxServiceUrls.authenticationServiceUrl, data, { headers: AuthService.TOKEN_HEADERS })\r\n                .success(this.onLoginSuccess)\r\n                .error(this.onLoginFail);\r\n        }\r\n\r\n        public register(user: Models.Account.UserCreateModel): angular.IHttpPromise<any> {\r\n            return this.$http.post(this.jukeboxServiceUrls.authenticationServiceUrl + \"/api/users\", user);\r\n        }\r\n\r\n        public logOut() {\r\n            this.authorizationData.removeData();\r\n\r\n            this.authentication.isAuth = false;\r\n            this.authentication.userName = \"\";\r\n            this.authentication.useRefreshTokens = false;\r\n        }\r\n\r\n        public fillAuthData() {\r\n            var authData = this.authorizationData.getData();\r\n            if (authData) {\r\n                this.authentication.isAuth = true;\r\n                this.authentication.userName = authData.user_name;\r\n                this.authentication.useRefreshTokens = true;\r\n            }\r\n        }\r\n\r\n        private onLoginSuccess = (response: Models.Account.AuthorizedData): Models.Account.AuthorizedData => {\r\n            response.user_name = this.loginData.userName;\r\n            this.authorizationData.setData(response);\r\n\r\n            this.authentication.isAuth = true;\r\n            this.authentication.userName = this.loginData.userName;\r\n            this.authentication.useRefreshTokens = false;\r\n\r\n            return response;\r\n        }\r\n\r\n        private onLoginFail = (response: Models.Account.AuthorizedData): void => {\r\n            this.logOut();\r\n            \r\n            return null;\r\n        }\r\n    }\r\n\r\n    class AuthorizationData implements IAuthorizationData {\r\n        private static AUTH_DATA_KEY = 'authorizationData';\r\n\r\n        constructor(private localStorageService: angular.local.storage.ILocalStorageService) {\r\n        }\r\n\r\n        public getData(): Models.Account.AuthorizedData {\r\n            return this.localStorageService.get<Models.Account.AuthorizedData>(AuthorizationData.AUTH_DATA_KEY);\r\n        }\r\n\r\n        public setData(data: Models.Account.AuthorizedData) {\r\n            this.localStorageService.set(AuthorizationData.AUTH_DATA_KEY, data);\r\n        }\r\n        public removeData () {\r\n            this.localStorageService.remove(AuthorizationData.AUTH_DATA_KEY);\r\n        }\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Jukebox.Player.Services {\r\n    'use strict';\r\n\r\n    export interface IHubService {\r\n        startHub(hubName: string, options: ngSignalr.HubOptions): ngSignalr.Hub;\r\n    }\r\n\r\n    export class HubService implements IHubService {\r\n        static $inject = ['$state', 'jukeboxWebPaths', 'authService', 'Hub'];\r\n\r\n        private hasConnectFailed: boolean = false;\r\n\r\n        public hub: ngSignalr.Hub;\r\n\r\n        constructor(private $state: angular.ui.IStateService,\r\n            public jukeboxWebPaths: Constants.JukeboxWebPaths,\r\n            private authService: Services.AuthService,\r\n            private Hub: ngSignalr.HubFactory) {\r\n        }\r\n\r\n        startHub(hubName: string, options: ngSignalr.HubOptions): ngSignalr.Hub {\r\n            var authData: Models.Account.AuthorizedData = this.authService.authorizationData.getData();\r\n            var accessToken: string = authData != null ? authData.access_token : null;\r\n            if (!options.queryParams) {\r\n                options.queryParams = {};\r\n            }\r\n            options.queryParams['access_token'] = \"Bearer \" + accessToken;\r\n\r\n            this.hub = new this.Hub(hubName, options);\r\n            this.createHub();\r\n\r\n            return this.hub;\r\n        }\r\n\r\n        private createHub() {\r\n            this.hub.connect();\r\n            this.hub.connection.start()\r\n                .done(this.onHubConnectSuccess)\r\n                .fail(this.onHubConnectFail);\r\n        }\r\n\r\n        private onHubConnectSuccess = (response: JQueryPromise<any>) => {\r\n            console.log('Now connected, connection ID=' + this.hub.connection.id);\r\n        }\r\n\r\n        private onHubConnectFail = (promise: any) => {\r\n            if (promise.context.status == 401) {\r\n                this.redirectToLogin();\r\n            }\r\n\r\n            console.log('Could not connect');\r\n        }\r\n\r\n        private redirectToLogin() {\r\n            //this.$state.go(this.jukeboxWebPaths.accountLogin.state);\r\n        }\r\n    }\r\n}","/// <reference path=\"../tools/typings/jquery/jquery.d.ts\" />\r\n/// <reference path=\"../tools/typings/angularjs/angular.d.ts\" />\r\n/// <reference path=\"../tools/typings/angularjs/angular-ui-bootstrap.d.ts\" />\r\n/// <reference path=\"../tools/typings/angularjs/angular-ui-router.d.ts\" />\r\n/// <reference path=\"../tools/typings/angularjs/angular-local-storage.d.ts\" />\r\n/// <reference path=\"../tools/typings/angularjs/angular-loading-bar.d.ts\" />\r\n/// <reference path=\"../tools/typings/ladda/ladda.d.ts\" />\r\n/// <reference path=\"../tools/typings/signalr/signalr.d.ts\" />\r\n/// <reference path=\"../tools/typings/angular-signalr-hub/angular-signalr-hub.d.ts\" />\r\n/// <reference path=\"../tools/typings/custom/serviceUrlConstants.d.ts\" />\r\n\r\n/// <reference path=\"app.ts\" />\r\n/// <reference path=\"rootController.ts\" />\r\n\r\n/// <reference path=\"configurations/applicationConfiguration.ts\" />\r\n/// <reference path=\"configurations/interceptorsConfiguration.ts\" />\r\n/// <reference path=\"configurations/routeConfiguration.ts\" />\r\n/// <reference path=\"configurations/storageConfiguration.ts\" />\r\n\r\n/// <reference path=\"constants/applicationConstants.ts\" />\r\n/// <reference path=\"constants/settingsConstants.ts\" />\r\n\r\n/// <reference path=\"controllers/indexController.ts\" />\r\n/// <reference path=\"controllers/homeController.ts\" />\r\n/// <reference path=\"controllers/account/loginController.ts\" />\r\n\r\n/// <reference path=\"filters/stringFormat.ts\" />\r\n\r\n/// <reference path=\"models/account.ts\" />\r\n/// <reference path=\"models/misc.ts\" />\r\n\r\n/// <reference path=\"services/authInterceptorService.ts\" />\r\n/// <reference path=\"services/authService.ts\" />\r\n/// <reference path=\"services/hubService.ts\" />","/// <reference path=\"_all.ts\" />\r\n\r\nmodule Jukebox.Player {\r\n    'use strict';\r\n\r\n    import Configurations = Jukebox.Player.Configurations;\r\n    import Constants = Jukebox.Player.Constants;\r\n    import Controllers = Jukebox.Player.Controllers;\r\n    import Filters = Jukebox.Player.Filters;\r\n    import Services = Jukebox.Player.Services;\r\n\r\n    var app: angular.IModule = angular.module('jukebox-web',\r\n        ['ui.router', 'LocalStorageModule', 'angular-loading-bar', 'jukebox-web-service-url', 'ui.bootstrap', 'ng-file-model', 'SignalR'])\r\n        //constants\r\n        .constant('jukeboxWebPaths', new Constants.JukeboxWebPaths())\r\n        .constant('jukeboxViewPaths', new Constants.JukeboxViewPaths())\r\n        .constant('jukeboxSettings', new Constants.JukeboxSettings())\r\n        //filters\r\n        .filter('stringFormat', Filters.stringFormat)\r\n        //services\r\n        .service('authService', Services.AuthService)\r\n        .service('hubService', Services.HubService)\r\n        //controllers\r\n        .controller(\"homeController\", Controllers.HomeController)\r\n        .controller(\"indexController\", Controllers.IndexController)\r\n        .controller(\"loginController\", Controllers.Account.LoginController)\r\n        //configuration\r\n        .config(['cfpLoadingBarProvider', Configurations.configureLoadingBar])\r\n        .config(['$httpProvider', Configurations.confugreInterceptoprs])\r\n        .config(['$stateProvider', '$urlRouterProvider', '$locationProvider', 'jukeboxWebPaths', 'jukeboxViewPaths', 'jukeboxServiceUrls', Configurations.configureRouting])\r\n        .config(['localStorageServiceProvider', Configurations.configureLocalStorage])\r\n        //custom initialization\r\n        .run(($rootScope: IRootScope, $state: angular.ui.IStateService, $uibModal: angular.ui.bootstrap.IModalService,\r\n                authService: Services.IAuthService, jukeboxServiceUrls: Constants.JukeboxServiceUrls, jukeboxWebPaths: Constants.JukeboxWebPaths,\r\n                jukeboxViewPaths: Constants.JukeboxViewPaths) =>\r\n            initialize($rootScope, $state, $uibModal, authService, jukeboxServiceUrls, jukeboxWebPaths, jukeboxViewPaths));\r\n    \r\n    function initialize($rootScope: IRootScope, $state: angular.ui.IStateService, $uibModal: angular.ui.bootstrap.IModalService, authService: Services.IAuthService,\r\n        jukeboxServiceUrls: Constants.JukeboxServiceUrls, jukeboxWebPaths: Constants.JukeboxWebPaths, jukeboxViewPaths: Constants.JukeboxViewPaths) {\r\n        $rootScope.controller = new RootController($rootScope, $state, $uibModal, authService, jukeboxServiceUrls, jukeboxWebPaths, jukeboxViewPaths);\r\n    }\r\n}","module Jukebox.Player.Models.Error {\r\n    'use strict';\r\n\r\n    export class BaseApiError {\r\n        message: string;\r\n        errors: string[];\r\n    }\r\n\r\n    export class BadRequestApiError extends BaseApiError {\r\n        model_errors: { [propertyName: string]: BadRequest; };\r\n    }\r\n\r\n    export class AuthError {\r\n        error: string;\r\n    }\r\n\r\n    class BadRequest {\r\n        errors: string[];\r\n        exceptions: string[];\r\n    }\r\n}"],"sourceRoot":"/source/"}